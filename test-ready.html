<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–æ–≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #2F1B40;
            color: white;
        }
        .test-card {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .ready-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
        }
        .ready-btn:hover {
            background: #45a049;
        }
        .ready-btn.ready {
            background: #FF9800;
        }
        .ready-btn.ready:hover {
            background: #F57C00;
        }
        .status {
            font-size: 18px;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .status.ready {
            background: rgba(76, 175, 80, 0.3);
            border: 1px solid #4CAF50;
        }
        .status.waiting {
            background: rgba(255, 152, 0, 0.3);
            border: 1px solid #FF9800;
        }
    </style>
</head>
<body>
    <h1>üéÆ –¢–µ—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–æ–≤</h1>
    
    <div class="test-card">
        <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:</h3>
        <p>1. –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö</p>
        <p>2. –ù–∞–∂–º–∏—Ç–µ "–ì–û–¢–û–í" –≤ –∫–∞–∂–¥–æ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
        <p>3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏</p>
        <p>4. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –ª–æ–≥–æ–≤</p>
    </div>
    
    <div class="test-card">
        <h3>–í–∞—à —Å—Ç–∞—Ç—É—Å:</h3>
        <div id="status" class="status waiting">‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ...</div>
        <button id="readyBtn" class="ready-btn" onclick="toggleReady()">üéØ –ì–û–¢–û–í</button>
    </div>
    
    <div class="test-card">
        <h3>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h3>
        <div id="debugInfo">
            <p>ID –∏–≥—Ä–æ–∫–∞: <span id="playerId">–ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</span></p>
            <p>Socket ID: <span id="socketId">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω</span></p>
            <p>–°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏: <span id="readyStatus">–ù–µ –≥–æ—Ç–æ–≤</span></p>
        </div>
    </div>

    <script>
        let isReady = false;
        let playerId = localStorage.getItem('cashflow_playerId');
        
        if (!playerId) {
            playerId = `P${Date.now().toString().slice(-6)}`;
            localStorage.setItem('cashflow_playerId', playerId);
        }
        
        document.getElementById('playerId').textContent = playerId;
        
        function toggleReady() {
            isReady = !isReady;
            updateUI();
            
            // –õ–æ–≥–∏—Ä—É–µ–º –≤ –∫–æ–Ω—Å–æ–ª—å
            console.log('Toggle ready clicked:', {
                playerId: playerId,
                isReady: isReady,
                timestamp: new Date().toISOString()
            });
            
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            // socket.emit('toggleReady', roomId);
        }
        
        function updateUI() {
            const statusEl = document.getElementById('status');
            const btn = document.getElementById('readyBtn');
            const readyStatusEl = document.getElementById('readyStatus');
            
            if (isReady) {
                statusEl.textContent = '‚úÖ –ì–æ—Ç–æ–≤!';
                statusEl.className = 'status ready';
                btn.textContent = '‚úì –ì–û–¢–û–í';
                btn.className = 'ready-btn ready';
                readyStatusEl.textContent = '–ì–æ—Ç–æ–≤';
            } else {
                statusEl.textContent = '‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ...';
                statusEl.className = 'status waiting';
                btn.textContent = 'üéØ –ì–û–¢–û–í';
                btn.className = 'ready-btn';
                readyStatusEl.textContent = '–ù–µ –≥–æ—Ç–æ–≤';
            }
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
        updateUI();
        
        // –õ–æ–≥–∏—Ä—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        console.log('Test page loaded:', {
            playerId: playerId,
            timestamp: new Date().toISOString(),
            userAgent: navigator.userAgent
        });
    </script>
</body>
</html>
